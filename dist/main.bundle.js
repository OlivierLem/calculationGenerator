(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=function(t){var n=[],r=[];function a(e){return parseInt(e,10)}for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];if("+"===t){var c,u=e(o);try{for(u.s();!(c=u.n()).done;){var s=c.value,d=s.toString().split("").map(a);n.push(d.reverse())}}catch(e){u.e(e)}finally{u.f()}n.sort()}else if("-"===t){for(var f=0,v=0;v<o.length;v++)if(0===v)r=o[v].toString().split("").map(a).reverse();else{f+=o[v];var h=o[v].toString().split("").map(a);n.push(h.reverse())}if(o[0]<f)return"négatif"}for(var m,p=0,g=0,y=1,S=0;S<n.length;S++){1===y?n.length:y=void 0,p+=n[S].shift(),m=r[g],r.length<n[0].length&&r.push(0);for(var b=0;b<n[S].length;b++)if("+"===t){if(n[S].length<(n[0].length||r.length)?n[S].push(0):n[S].length===n[0].length&&y>0&&(n[S].push(0,0),y--),1===n[S].length&&p<10)return!1;if(p>=10)return!0}else if("-"===t){if(1===n[S].length&&p<=m)return!1;if(p>m)return!0}"+"===t?p<=10&&n.length-1===S&&(g++,S=-1,p=0):"-"===t&&p<=m&&n.length-1==S&&(g++,S=-1,p=0)}},r=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e};function a(e){return e=(e=(e=e.replace(/[\s]{2,}/g," ")).replace(/^[\s]/,"")).replace(/[\s]$/,"")}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,c=document.querySelector(".arrow "),u=document.querySelector(".generateurCalcul");l=u,c.addEventListener("click",(function(){!0===this.classList.contains("active")?(this.classList.add("inactive"),this.classList.remove("active"),l.classList.remove("active")):!0===this.classList.contains("inactive")&&(this.classList.remove("inactive"),this.classList.add("active"),l.classList.add("active"))}));var s=document.querySelector(".worksheet"),d=(document.querySelector("header > h1"),document.querySelector("#nCalc")),f=0;d.addEventListener("input",(function(e){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength)),"e"!==e.data&&"-"!==e.data&&"+"!==e.data&&"*"!==e.data&&"/"!==e.data&&"+"!==e.data&&"."!==e.data&&","!==e.data||(this.value=f),parseInt(this.value,10)>30?this.value=30:0===this.value&&(this.value=0),f=this.value}));var v=document.querySelector("#chiffre"),h=document.querySelector("#nombre"),m=document.querySelector("#operateur"),p=document.querySelector("#btnGenerate"),g=[],y="",S=void 0,b=document.querySelectorAll("input[name='retenue']"),L=0,q=!1,A="";p.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("h2");t.classList.add("subTitle"),S=y||void 0,0===m.selectedIndex?(y="+",A="Addition"):1===m.selectedIndex&&(y="-",A="Soustraction"),void 0!==S&&S===y||(t.textContent=A,s.appendChild(t));var a=document.createElement("div");a.classList.add("contentCalc"),s.appendChild(a);for(var o=0;o<b.length;o++)1==b[o].checked&&(L=o);for(var l=0;l<d.value;l++){var c=document.createElement("div");c.className="calcul";for(var u=0;u<h.value;u++){for(var f=void 0,p="",C=0;C<v.value;C++)C>0?p+=r(0,9).toString():0===C&&(p+=r(1,9).toString()),v.value-1===C&&(f=parseInt(p));g.push(f),h.value-1===u&&(q=n.apply(void 0,[y].concat(i(g))),console.log(q),(0===L&&1!=q||1===L&&0!=q||"négatif"===q)&&(u=-1,g=[]))}for(var E="",w=0;w<v.value;w++)E+="";for(var I=0;I<=g.length;I++)0==I?c.innerHTML+="<p>".concat(g[I],"</p>"):g.length==I?c.innerHTML+='<p><span class="invisible">=</span> '.concat(E,"</p>"):c.innerHTML+="<p><span>".concat(y,"</span> ").concat(g[I],"</p>");g=[],s.lastChild.appendChild(c)}})),document.querySelector("#btnRemove").addEventListener("click",(function(){s.innerHTML="",S=void 0,y=void 0}));var C="fiche de calcul",E=document.querySelector(".fileName"),w=document.querySelector("header > div > button"),I=document.querySelector("#modifyNamePdf");I.value=C,w.addEventListener("click",(function(){this.classList.toggle("active"),I.classList.toggle("visible")}));var M=document.querySelector(".pdfContent"),j=document.querySelector("#btnPdf"),k={margin:.2,filename:"".concat(C,".pdf"),pagebreak:{mode:"avoid-all"},image:{type:"jpeg",quality:.98},html2canvas:{scale:1,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};I.addEventListener("input",(function(){E.textContent="".concat(a(this.value),".pdf"),C=a(this.value),k.filename="".concat(a(this.value),".pdf"),console.log(C)})),j.addEventListener("click",(function(){M.classList.add("active"),html2pdf().set(k).from(M).save()}))})();