(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=function(t){var n=[],r=[];function a(e){return parseInt(e,10)}for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];if("+"===t){var l,u=e(i);try{for(u.s();!(l=u.n()).done;){var s=l.value,d=s.toString().split("").map(a);n.push(d.reverse())}}catch(e){u.e(e)}finally{u.f()}n.sort()}else if("-"===t){for(var f=0,v=0;v<i.length;v++)if(0===v)r=i[v].toString().split("").map(a).reverse();else{f+=i[v];var h=i[v].toString().split("").map(a);n.push(h.reverse())}if(i[0]<f)return"négatif"}for(var m,p=0,y=0,g=1,S=0;S<n.length;S++){1===g?n.length:g=void 0,p+=n[S].shift(),m=r[y],r.length<n[0].length&&r.push(0);for(var b=0;b<n[S].length;b++)if("+"===t){if(n[S].length<(n[0].length||r.length)?n[S].push(0):n[S].length===n[0].length&&g>0&&(n[S].push(0,0),g--),1===n[S].length&&p<10)return!1;if(p>=10)return!0}else if("-"===t){if(1===n[S].length&&p<=m)return!1;if(p>m)return!0}"+"===t?p<=10&&n.length-1===S&&(y++,S=-1,p=0):"-"===t&&p<=m&&n.length-1==S&&(y++,S=-1,p=0)}},r=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e};function a(e){return e=(e=(e=e.replace(/[\s]{2,}/g," ")).replace(/^[\s]/,"")).replace(/[\s]$/,"")}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,l=document.querySelector(".arrow "),u=document.querySelector(".generateurCalcul");c=u,l.addEventListener("click",(function(){!0===this.classList.contains("active")?(this.classList.add("inactive"),this.classList.remove("active"),c.classList.remove("active")):!0===this.classList.contains("inactive")&&(this.classList.remove("inactive"),this.classList.add("active"),c.classList.add("active"))}));var s=document.querySelector("#nCalc");s.addEventListener("keydown",(function(e){(e.keyCode<96||e.keyCode>105)&&(e.keyCode<8||e.keyCode>9)&&46!==e.keyCode&&e.preventDefault()}));var d=document.querySelector(".worksheet"),f=(document.querySelector("header > h1"),document.querySelector("#chiffre")),v=document.querySelector("#nombre"),h=document.querySelector("#operateur"),m=document.querySelector("#btnGenerate"),p=[],y="",g=void 0,S=document.querySelectorAll("input[name='retenue']"),b=0,L=!1,q="";m.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("h2");t.classList.add("subTitle"),g=y||void 0,0===h.selectedIndex?(y="+",q="Addition"):1===h.selectedIndex&&(y="-",q="Soustraction"),void 0!==g&&g===y||(t.textContent=q,d.appendChild(t));var a=document.createElement("div");a.classList.add("contentCalc"),d.appendChild(a);for(var i=0;i<S.length;i++)1==S[i].checked&&(b=i);for(var c=0;c<s.value;c++){var l=document.createElement("div");l.className="calcul";for(var u=0;u<v.value;u++){for(var m=void 0,C="",A=0;A<f.value;A++)A>0?C+=r(0,9).toString():0===A&&(C+=r(1,9).toString()),f.value-1===A&&(m=parseInt(C));p.push(m),v.value-1===u&&(L=n.apply(void 0,[y].concat(o(p))),console.log(L),(0===b&&1!=L||1===b&&0!=L||"négatif"===L)&&(u=-1,p=[]))}for(var k="",w=0;w<f.value;w++)k+="";for(var E=0;E<=p.length;E++)0==E?l.innerHTML+="<p>".concat(p[E],"</p>"):p.length==E?l.innerHTML+='<p><span class="invisible">=</span> '.concat(k,"</p>"):l.innerHTML+="<p><span>".concat(y,"</span> ").concat(p[E],"</p>");p=[],d.lastChild.appendChild(l)}})),document.querySelector("#btnRemove").addEventListener("click",(function(){d.innerHTML="",g=void 0,y=void 0}));var C="fiche de calcul",A=document.querySelector(".fileName"),k=document.querySelector("header > div > button"),w=document.querySelector("#modifyNamePdf");w.value=C,k.addEventListener("click",(function(){this.classList.toggle("active"),w.classList.toggle("visible")}));var E=document.querySelector(".pdfContent"),I=document.querySelector("#btnPdf"),M={margin:.2,filename:"".concat(C,".pdf"),pagebreak:{mode:"avoid-all"},image:{type:"jpeg",quality:.98},html2canvas:{scale:1,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};w.addEventListener("input",(function(){A.textContent="".concat(a(this.value),".pdf"),C=a(this.value),M.filename="".concat(a(this.value),".pdf"),console.log(C)})),I.addEventListener("click",(function(){E.classList.add("active"),html2pdf().set(M).from(E).save()}))})();